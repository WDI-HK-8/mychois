app.controller('NavbarCtrl', ['$scope', '$auth', '$location', 'UserServices', function($scope, $auth, $location, UserServices){

  // check if logged in
  $scope.authResponse = []
  $scope.authResponse.push($auth.validateUser())
  $scope.authStatus = $scope.authResponse[0].$$state.status
 
  if ($scope.authStatus == 2) {
    $scope.loggedIn = false;  
    console.log($scope.loggedIn);
  } else {
    $scope.loggedIn = true;
    console.log($scope.loggedIn);
  }

  $scope.logout = function() {
    $auth.signOut().then(function(response){
      console.log(response);
      UserServices.user = null;
      $scope.user = null;
      $scope.loggedIn = false;
      $location.path('/');
    }).catch(function(response){
      console.log(response);
    })
  }

}]);

